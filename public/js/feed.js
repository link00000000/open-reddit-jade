// Generated by CoffeeScript 1.12.1
var commaSeperators, logout;

$(function() {
  $('.favorite').click(function() {
    if ($(this).hasClass('ion-android-star-outline')) {
      $(this).removeClass('ion-android-star-outline');
      return $(this).addClass('ion-android-star');
    } else {
      $(this).removeClass('ion-android-star');
      return $(this).addClass('ion-android-star-outline');
    }
  });
  $('.upvote').click(function() {
    if ($(this).parent().hasClass('upvoted')) {
      $(this).parent().removeClass('upvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) - 1));
    } else if ($(this).parent().hasClass('downvoted')) {
      $(this).parent().removeClass('downvoted');
      $(this).parent().addClass('upvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) + 2));
    } else {
      $(this).parent().addClass('upvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) + 1));
    }
  });
  $('.downvote').click(function() {
    if ($(this).parent().hasClass('downvoted')) {
      $(this).parent().removeClass('downvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) + 1));
    } else if ($(this).parent().hasClass('upvoted')) {
      $(this).parent().removeClass('upvoted');
      $(this).parent().addClass('downvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) - 2));
    } else {
      $(this).parent().addClass('downvoted');
      return $(this).siblings('.score').text(commaSeperators(parseInt($(this).siblings('.score').text().replace(',', '')) - 1));
    }
  });
  return $('#sub-list, #show-subs').click(function() {
    if ($('#show-subs').hasClass('hide')) {
      console.log('Closing');
      $('#subs').css('height', '36px');
    } else {
      console.log('Opening');
      $('#subs').css('height', $('#sub-list').height() + 'px');
    }
    return $('#show-subs, #subs').toggleClass('hide');
  });
});

logout = function() {
  delete localStorage.redditToken;
  document.location = '/';
  return false;
};

commaSeperators = function(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
};
